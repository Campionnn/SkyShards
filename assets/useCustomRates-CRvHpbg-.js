var N=Object.defineProperty,U=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var C=(a,e,t)=>e in a?N(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,i=(a,e)=>{for(var t in e||(e={}))K.call(e,t)&&C(a,t,e[t]);if($)for(var t of $(e))b.call(e,t)&&C(a,t,e[t]);return a},S=(a,e)=>U(a,E(e));var f=(a,e,t)=>C(a,typeof e!="symbol"?e+"":e,t);var c=(a,e,t)=>new Promise((s,r)=>{var n=o=>{try{y(t.next(o))}catch(u){r(u)}},d=o=>{try{y(t.throw(o))}catch(u){r(u)}},y=o=>o.done?s(o.value):Promise.resolve(o.value).then(n,d);y((t=t.apply(a,e)).next())});import{r as p}from"./vendor-lM--12k9.js";const h=class h{constructor(){f(this,"shardsCache",null);f(this,"shardNameToKeyCache",null);f(this,"defaultRatesCache",null);f(this,"recipesCache",null)}static getInstance(){return h.instance||(h.instance=new h),h.instance}loadShards(){return c(this,null,function*(){if(this.shardsCache)return this.shardsCache;try{const t=yield fetch("/SkyShards/fusion-data.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=yield t.json(),r=yield this.loadDefaultRates();return this.shardsCache=Object.entries(s.shards).map(([n,d])=>S(i({key:n},d),{id:n,rate:r[n]||0})),this.shardsCache}catch(e){throw console.error("Failed to load shards:",e),new Error(`Failed to load shards: ${e}`)}})}getShardNameToKeyMap(){return c(this,null,function*(){if(this.shardNameToKeyCache)return this.shardNameToKeyCache;const e=yield this.loadShards();return this.shardNameToKeyCache=e.reduce((t,s)=>(t[s.name.toLowerCase()]=s.key,t),{}),this.shardNameToKeyCache})}loadDefaultRates(){return c(this,null,function*(){if(this.defaultRatesCache)return this.defaultRatesCache;try{const e=yield fetch("/SkyShards/rates.json");return this.defaultRatesCache=yield e.json(),this.defaultRatesCache}catch(e){throw new Error(`Failed to load default rates: ${e}`)}})}loadRecipes(){return c(this,null,function*(){if(this.recipesCache)return this.recipesCache;try{const t=yield(yield fetch("/SkyShards/fusion-data.json")).json(),s={};for(const r in t.recipes){s[r]=[];for(const n in t.recipes[r]){const d=parseInt(n);t.recipes[r][n].forEach(o=>{s[r].push({inputs:o,outputQuantity:d})})}}return this.recipesCache=s,s}catch(e){throw new Error(`Failed to load recipes: ${e}`)}})}searchShards(e){return c(this,null,function*(){const t=yield this.loadShards(),s=e.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s))})}getShardByKey(e){return c(this,null,function*(){return(yield this.loadShards()).find(s=>s.key===e)})}getShardByName(e){return c(this,null,function*(){const s=(yield this.getShardNameToKeyMap())[e.toLowerCase()];if(s)return this.getShardByKey(s)})}};f(h,"instance");let w=h;const x=["C19","U4","U16","U28","R25","L4","L15"],D=["R29","L23","R59"],F={L26:!1,E33:!0,E20:!1,E17:!1,E14:!1,R56:!1,R49:!1,R39:!0,R36:!0,R31:!0,R21:!1,R18:!1,R6:!0,U38:!0,U36:!0,U33:!0,U32:!0,U30:!1,U29:!1,U27:!1,U18:!0,U15:!0,U12:!0,C36:!0,C33:!0,C30:!0,C27:!1,C21:!0,C15:!0,C12:!0,C9:!0},A={common:96,uncommon:64,rare:48,epic:32,legendary:24},j=[{value:"none",label:"No Kuudra"},{value:"t1",label:"T1"},{value:"t2",label:"T2"},{value:"t3",label:"T3"},{value:"t4",label:"T4"},{value:"t5",label:"T5"}];Array.from({length:11},(a,e)=>({value:e,label:e.toString()})).reverse();const v=a=>{const e=Math.round(a*3600);if(e<60)return`${e} seconds`;const t=Math.floor(a),s=Math.round((a-t)*60);return t===0?`${s} minutes`:s===0||isNaN(s)?`${t} hours`:`${t} hours ${s} minutes`},M=a=>a===0?"0":a<.01?a.toFixed(4):a<1?a.toFixed(2):a.toFixed(2).replace(/\.00$/,""),O=a=>({common:"text-white",uncommon:"text-green-400",rare:"text-blue-400",epic:"text-purple-400",legendary:"text-yellow-400"})[a]||"text-white",B=(a,e=!1)=>{const t=[`Name: ${a.name}`,`Family: ${a.family}`,`Type: ${a.type}`,`Rarity: ${a.rarity}`,`Fuse Amount: ${a.fuse_amount}`,`Internal ID: ${a.internal_id}`,`Rate: ${a.rate}`];return e||t.unshift(`ID: ${a.id}`),t.join(`
`)},_=(a,e)=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>a(...s),e)}},k=()=>{const[a,e]=p.useState({}),[t,s]=p.useState({}),[r,n]=p.useState(!0);return p.useEffect(()=>{c(null,null,function*(){try{n(!0);const l=yield w.getInstance().loadDefaultRates();s(l);const m=localStorage.getItem("customRates");if(m)try{const R=JSON.parse(m);e(i(i({},l),R))}catch(R){e(i({},l))}else e(i({},l))}catch(u){console.error("Failed to load rates:",u),e({}),s({})}finally{n(!1)}})},[]),{customRates:a,defaultRates:t,loading:r,updateRate:(o,u)=>{const l=S(i({},a),{[o]:u});e(l);const m=Object.entries(l).reduce((R,[T,g])=>(g!==t[T]&&(R[T]=g),R),{});localStorage.setItem("customRates",JSON.stringify(m))},resetRates:()=>{e(i({},t)),localStorage.removeItem("customRates")}}};export{F as B,w as D,j as K,A as M,x as N,D as W,M as a,B as b,_ as d,v as f,O as g,k as u};
