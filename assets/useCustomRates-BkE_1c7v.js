var $=Object.defineProperty,U=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var C=(a,e,t)=>e in a?$(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,u=(a,e)=>{for(var t in e||(e={}))K.call(e,t)&&C(a,t,e[t]);if(N)for(var t of N(e))b.call(e,t)&&C(a,t,e[t]);return a},S=(a,e)=>U(a,E(e));var d=(a,e,t)=>C(a,typeof e!="symbol"?e+"":e,t);var n=(a,e,t)=>new Promise((s,r)=>{var i=o=>{try{f(t.next(o))}catch(c){r(c)}},m=o=>{try{f(t.throw(o))}catch(c){r(c)}},f=o=>o.done?s(o.value):Promise.resolve(o.value).then(i,m);f((t=t.apply(a,e)).next())});import{r as p}from"./vendor-lM--12k9.js";const h=class h{constructor(){d(this,"shardsCache",null);d(this,"shardNameToKeyCache",null);d(this,"defaultRatesCache",null);d(this,"recipesCache",null)}static getInstance(){return h.instance||(h.instance=new h),h.instance}loadShards(){return n(this,null,function*(){if(this.shardsCache)return this.shardsCache;try{const t=yield(yield fetch("/SkyShards/fusion-data.json")).json();return this.shardsCache=Object.entries(t.shards).map(([s,r])=>S(u({key:s},r),{id:s})),this.shardsCache}catch(e){throw new Error(`Failed to load shards: ${e}`)}})}getShardNameToKeyMap(){return n(this,null,function*(){if(this.shardNameToKeyCache)return this.shardNameToKeyCache;const e=yield this.loadShards();return this.shardNameToKeyCache=e.reduce((t,s)=>(t[s.name.toLowerCase()]=s.key,t),{}),this.shardNameToKeyCache})}loadDefaultRates(){return n(this,null,function*(){if(this.defaultRatesCache)return this.defaultRatesCache;try{const e=yield fetch("/SkyShards/rates.json");return this.defaultRatesCache=yield e.json(),this.defaultRatesCache}catch(e){throw new Error(`Failed to load default rates: ${e}`)}})}loadRecipes(){return n(this,null,function*(){if(this.recipesCache)return this.recipesCache;try{const t=yield(yield fetch("/SkyShards/fusion-data.json")).json(),s={};for(const r in t.recipes){s[r]=[];for(const i in t.recipes[r]){const m=parseInt(i);t.recipes[r][i].forEach(o=>{s[r].push({inputs:o,outputQuantity:m})})}}return this.recipesCache=s,s}catch(e){throw new Error(`Failed to load recipes: ${e}`)}})}searchShards(e){return n(this,null,function*(){const t=yield this.loadShards(),s=e.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s))})}getShardByKey(e){return n(this,null,function*(){return(yield this.loadShards()).find(s=>s.key===e)})}getShardByName(e){return n(this,null,function*(){const s=(yield this.getShardNameToKeyMap())[e.toLowerCase()];if(s)return this.getShardByKey(s)})}};d(h,"instance");let w=h;const x=["C19","U4","U16","U28","R25","L4","L15"],A=["R29","L23","R59"],D={L26:!1,E33:!0,E20:!1,E17:!1,E14:!1,R56:!1,R49:!1,R39:!0,R36:!0,R31:!0,R21:!1,R18:!1,R6:!0,U38:!0,U36:!0,U33:!0,U32:!0,U30:!1,U29:!1,U27:!1,U18:!0,U15:!0,U12:!0,C36:!0,C33:!0,C30:!0,C27:!1,C21:!0,C15:!0,C12:!0,C9:!0},F={common:96,uncommon:64,rare:48,epic:32,legendary:24},j=[{value:"none",label:"No Kuudra"},{value:"t1",label:"T1"},{value:"t2",label:"T2"},{value:"t3",label:"T3"},{value:"t4",label:"T4"},{value:"t5",label:"T5"}];Array.from({length:11},(a,e)=>({value:e,label:e.toString()})).reverse();const v=a=>{const e=Math.round(a*3600);if(e<60)return`${e} seconds`;const t=Math.floor(a),s=Math.round((a-t)*60);return t===0?`${s} minutes`:s===0||isNaN(s)?`${t} hours`:`${t} hours ${s} minutes`},M=a=>a===0?"0":a<.01?a.toFixed(4):a<1?a.toFixed(2):a.toFixed(2).replace(/\.00$/,""),O=a=>({common:"text-white",uncommon:"text-green-400",rare:"text-blue-400",epic:"text-purple-400",legendary:"text-yellow-400"})[a]||"text-white",B=(a,e=!1)=>{const t=[`Name: ${a.name}`,`Family: ${a.family}`,`Type: ${a.type}`,`Rarity: ${a.rarity}`,`Fuse Amount: ${a.fuse_amount}`,`Internal ID: ${a.internal_id}`,`Rate: ${a.rate}`];return e||t.unshift(`ID: ${a.id}`),t.join(`
`)},_=(a,e)=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>a(...s),e)}},k=()=>{const[a,e]=p.useState({}),[t,s]=p.useState({}),[r,i]=p.useState(!0);return p.useEffect(()=>{n(null,null,function*(){try{i(!0);const l=yield w.getInstance().loadDefaultRates();s(l);const R=localStorage.getItem("customRates");if(R)try{const y=JSON.parse(R);e(u(u({},l),y))}catch(y){e(u({},l))}else e(u({},l))}catch(c){console.error("Failed to load rates:",c),e({}),s({})}finally{i(!1)}})},[]),{customRates:a,defaultRates:t,loading:r,updateRate:(o,c)=>{const l=S(u({},a),{[o]:c});e(l);const R=Object.entries(l).reduce((y,[g,T])=>(T!==t[g]&&(y[g]=T),y),{});localStorage.setItem("customRates",JSON.stringify(R))},resetRates:()=>{e(u({},t)),localStorage.removeItem("customRates")}}};export{D as B,w as D,j as K,F as M,x as N,A as W,M as a,B as b,_ as d,v as f,O as g,k as u};
