const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CegffC59.js","assets/vendor-Dt516RNf.js","assets/icons-DNYyJ9Q2.js","assets/forms-CPIcrlzh.js","assets/index-CGS442yE.css"])))=>i.map(i=>d[i]);
var N=Object.defineProperty,K=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var y=(s,a,e)=>a in s?N(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,f=(s,a)=>{for(var e in a||(a={}))E.call(a,e)&&y(s,e,a[e]);if(C)for(var e of C(a))g.call(a,e)&&y(s,e,a[e]);return s},S=(s,a)=>K(s,L(a));var u=(s,a,e)=>y(s,typeof a!="symbol"?a+"":a,e);var h=(s,a,e)=>new Promise((t,c)=>{var r=n=>{try{l(e.next(n))}catch(o){c(o)}},i=n=>{try{l(e.throw(n))}catch(o){c(o)}},l=n=>n.done?t(n.value):Promise.resolve(n.value).then(r,i);l((e=e.apply(s,a)).next())});import{_ as I}from"./index-CegffC59.js";const d=class d{constructor(){u(this,"shardsCache",null);u(this,"shardNameToKeyCache",null);u(this,"defaultRatesCache",null)}static getInstance(){return d.instance||(d.instance=new d),d.instance}loadShards(){return h(this,null,function*(){if(this.shardsCache)return this.shardsCache;try{const e=yield fetch("/SkyShards/fusion-data.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=yield e.json(),c=yield this.loadDefaultRates();return this.shardsCache=Object.entries(t.shards).map(([r,i])=>S(f({key:r},i),{id:r,rate:c[r]||0})),this.shardsCache}catch(a){throw console.error("Failed to load shards:",a),new Error(`Failed to load shards: ${a}`)}})}getShardNameToKeyMap(){return h(this,null,function*(){if(this.shardNameToKeyCache)return this.shardNameToKeyCache;const a=yield this.loadShards();return this.shardNameToKeyCache=a.reduce((e,t)=>(e[t.name.toLowerCase()]=t.key,e),{}),this.shardNameToKeyCache})}loadDefaultRates(){return h(this,null,function*(){if(this.defaultRatesCache)return this.defaultRatesCache;try{const a=yield fetch("/SkyShards/rates.json");return this.defaultRatesCache=yield a.json(),this.defaultRatesCache}catch(a){throw new Error(`Failed to load default rates: ${a}`)}})}searchShards(a){return h(this,null,function*(){const e=yield this.loadShards(),t=a.toLowerCase(),{SHARD_DESCRIPTIONS:c}=yield I(()=>h(this,null,function*(){const{SHARD_DESCRIPTIONS:r}=yield import("./index-CegffC59.js").then(i=>i.m);return{SHARD_DESCRIPTIONS:r}}),__vite__mapDeps([0,1,2,3,4]));return e.filter(r=>{var w,m;const i=r.name.toLowerCase().includes(t),l=r.family.toLowerCase().includes(t),n=r.type.toLowerCase().includes(t),o=c[r.key],p=((w=o==null?void 0:o.title)==null?void 0:w.toLowerCase().includes(t))||!1,R=((m=o==null?void 0:o.description)==null?void 0:m.toLowerCase().includes(t))||!1;return i||l||n||p||R})})}searchShardsByNameOnly(a){return h(this,null,function*(){const e=yield this.loadShards(),t=a.toLowerCase();return e.filter(c=>c.name.toLowerCase().includes(t))})}getShardByKey(a){return h(this,null,function*(){return(yield this.loadShards()).find(t=>t.key===a)})}getShardByName(a){return h(this,null,function*(){const t=(yield this.getShardNameToKeyMap())[a.toLowerCase()];if(t)return this.getShardByKey(t)})}};u(d,"instance");let T=d;export{T as D};
